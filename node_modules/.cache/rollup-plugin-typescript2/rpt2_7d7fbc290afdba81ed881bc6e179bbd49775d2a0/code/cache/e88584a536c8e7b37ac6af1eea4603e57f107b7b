{"code":"export const structureTower = {\r\n    run: function (tower) {\r\n        let enemy = tower.room.find(FIND_HOSTILE_CREEPS);\r\n        let injured = tower.room.find(FIND_MY_CREEPS, { filter: (creeps) => creeps.hits < creeps.hitsMax && creeps.room == creeps.room });\r\n        if (enemy[0] != undefined) {\r\n            goAttack(tower, enemy);\r\n        }\r\n        else if (injured[0] != undefined) {\r\n            tower.heal(injured[0]);\r\n        }\r\n        else {\r\n            runRepair(tower);\r\n        }\r\n    }\r\n};\r\nfunction goAttack(tower, enemy) {\r\n    let target = tower.pos.findClosestByRange(enemy);\r\n    tower.attack(target);\r\n}\r\nfunction runRepair(tower) {\r\n    let targetTo = tower.room.find(FIND_STRUCTURES, {\r\n        filter: object => object.hits < object.hitsMax &&\r\n            object.structureType != STRUCTURE_WALL\r\n    });\r\n    tower.repair(targetTo[0]);\r\n}\r\n//# sourceMappingURL=StructureTower.js.map","references":[],"map":"{\"version\":3,\"file\":\"StructureTower.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/Structure/StructureTower.ts\"],\"names\":[],\"mappings\":\"AAAA,MAAM,CAAC,MAAM,cAAc,GAAG;IAC5B,GAAG,EAAE,UAAU,KAAqB;QAClC,IAAI,KAAK,GAAY,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;QAC1D,IAAI,OAAO,GAAY,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,EAAC,MAAM,EAC5D,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,CAAC,IAAI,GAAG,MAAM,CAAC,OAAO,IAAI,MAAM,CAAC,IAAI,IAAI,MAAM,CAAC,IAAI,EAAC,CAAC,CAAC;QAC3E,IAAI,KAAK,CAAC,CAAC,CAAC,IAAI,SAAS,EAAE;YACzB,QAAQ,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;SACxB;aAAM,IAAI,OAAO,CAAC,CAAC,CAAC,IAAI,SAAS,EAAE;YAClC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;SACxB;aAAM;YACL,SAAS,CAAC,KAAK,CAAC,CAAC;SAClB;IACH,CAAC;CACF,CAAC;AAEF,SAAS,QAAQ,CAAC,KAAqB,EAAE,KAAc;IACrD,IAAI,MAAM,GAAU,KAAK,CAAC,GAAG,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;IACxD,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;AACvB,CAAC;AAED,SAAS,SAAS,CAAE,KAAqB;IACvC,IAAI,QAAQ,GAAmB,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE;QAC9D,MAAM,EAAE,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,IAAI,GAAG,MAAM,CAAC,OAAO;YAC9C,MAAM,CAAC,aAAa,IAAI,cAAc;KAAC,CAAC,CAAC;IAC3C,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;AAC5B,CAAC\"}"}
