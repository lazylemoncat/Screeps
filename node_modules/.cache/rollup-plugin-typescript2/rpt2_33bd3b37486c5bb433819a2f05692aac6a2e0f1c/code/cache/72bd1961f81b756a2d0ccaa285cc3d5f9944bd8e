{"code":"import { newCreepBody } from \"../NewCreep/NewCreepBodys\";\r\nimport { roleHarvester } from \"../Role/RoleHarvester\";\r\nexport const harvestTask = {\r\n    run: function (room) {\r\n        newCreep(room);\r\n        for (let i = 0; i < Memory.roles.harvesters.length; ++i) {\r\n            roleHarvester.run(Game.getObjectById(Memory.roles.harvesters[i]), room);\r\n        }\r\n    }\r\n};\r\nfunction newCreep(room) {\r\n    let harvesters = Memory.roles.harvesters;\r\n    let transfers = Memory.roles.transfers;\r\n    let sources = room.sources;\r\n    Game.spawns['Spawn1'].memory.shouldSpawn = null;\r\n    if (harvesters.length <= transfers.length && harvesters.length < sources.length) {\r\n        Game.spawns['Spawn1'].memory.shouldSpawn = 'harvester';\r\n        newHarvester(harvesters, sources.length);\r\n    }\r\n}\r\nfunction newHarvester(harvesters, sourcesLength) {\r\n    let newName = \"Harvester\" + Game.time;\r\n    let posFlag = 0;\r\n    for (let i = 0; i < sourcesLength; ++i) {\r\n        for (let j = 0; j < harvesters.length; ++j) {\r\n            if (i == Game.getObjectById(harvesters[j]).memory.sourcesPosition) {\r\n                posFlag += 1;\r\n                break;\r\n            }\r\n        }\r\n        if (posFlag == i)\r\n            break;\r\n    }\r\n    if (posFlag >= sourcesLength)\r\n        return;\r\n    Game.spawns['Spawn1'].spawnCreep(newCreepBody('harvester'), newName, { memory: { role: 'harvester', sourcesPosition: posFlag } });\r\n}\r\n//# sourceMappingURL=HarvestTask.js.map","references":["D:/Desktop/ScreepsCodes/World/src/NewCreep/NewCreepBodys.ts","D:/Desktop/ScreepsCodes/World/src/Role/RoleHarvester.ts"],"map":"{\"version\":3,\"file\":\"HarvestTask.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/Tasks/HarvestTask.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,YAAY,EAAE,MAAM,2BAA2B,CAAC;AACzD,OAAO,EAAE,aAAa,EAAE,MAAM,uBAAuB,CAAC;AAEtD,MAAM,CAAC,MAAM,WAAW,GAAG;IACzB,GAAG,EAAE,UAAS,IAAgB;QAC5B,QAAQ,CAAC,IAAI,CAAC,CAAC;QACf,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;YACvD,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;SACzE;IACH,CAAC;CACF,CAAA;AAED,SAAS,QAAQ,CAAC,IAAgB;IAChC,IAAI,UAAU,GAAG,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC;IACzC,IAAI,SAAS,GAAG,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC;IACvC,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;IAC3B,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,WAAW,GAAG,IAAI,CAAC;IAChD,IAAI,UAAU,CAAC,MAAM,IAAI,SAAS,CAAC,MAAM,IAAI,UAAU,CAAC,MAAM,GAAG,OAAO,CAAC,MAAM,EAAE;QAC/E,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,WAAW,GAAG,WAAW,CAAC;QACvD,YAAY,CAAC,UAAU,EAAE,OAAO,CAAC,MAAM,CAAC,CAAC;KAC1C;AACH,CAAC;AAED,SAAS,YAAY,CAAC,UAAuB,EAAE,aAAqB;IAClE,IAAI,OAAO,GAAW,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC;IAC9C,IAAI,OAAO,GAAW,CAAC,CAAC;IACxB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,aAAa,EAAE,EAAE,CAAC,EAAE;QACtC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;YAC1C,IAAI,CAAC,IAAI,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,eAAe,EAAE;gBACjE,OAAO,IAAI,CAAC,CAAC;gBACb,MAAM;aACP;SACF;QACD,IAAI,OAAO,IAAI,CAAC;YAAE,MAAM;KACzB;IACD,IAAI,OAAO,IAAI,aAAa;QAAE,OAAO;IAErC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,UAAU,CAAC,YAAY,CAAC,WAAW,CAAC,EACxD,OAAO,EAAE,EAAC,MAAM,EAAC,EAAC,IAAI,EAAE,WAAW,EAAE,eAAe,EAAE,OAAO,EAAC,EAAC,CAAC,CAAC;AACrE,CAAC\"}"}
